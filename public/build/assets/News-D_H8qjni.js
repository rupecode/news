import{e as o,o as a,h as _,a as t,t as i,g as h,F as k,W as b,d as w,p as V,c as B,w as g,b as N,i as C,k as c,f as x,q as f}from"./app-B1zAmF1l.js";import{_ as D}from"./AppLayout-CRglivnH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T=["href"],$=["onClick"],L={__name:"List",props:{news:{type:Array},base:{type:String}},setup(d){const l=d;function u(n,r){if(!confirm("Delete record?"))return;const s=route(l.base+".delete",{id:r});axios.delete(s).finally(function(){b.visit(route(l.base+".index"))}).catch(e=>{e.response.status===403&&alert(e.response.data.message)})}return(n,r)=>(a(!0),o(k,null,_(d.news,s=>(a(),o("div",null,[t("div",null,i(s.title),1),t("div",null,[h(i(s.description)+" ",1),t("a",{href:n.route(d.base+".show",{id:s.id})},"...>",8,T)]),t("div",null,i(s.owner.name),1),t("div",null,[t("a",{onClick:e=>u(e,s.id),"data-href":""},"Delete",8,$)]),r[0]||(r[0]=t("hr",null,null,-1))]))),256))}},S={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},U={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},F={key:0,class:"text-green-600"},M={class:"flex flex-col space-y-2"},W={key:0,class:"text-red-600"},j={class:"flex flex-col space-y-2"},q={key:0,class:"text-red-600"},A={class:"flex flex-col space-y-2"},E={key:0,class:"text-red-600"},R={__name:"News",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},news:{type:Object}},setup(d){const l=w({}),u=w(""),n=V({title:"",description:"",text:""});function r(){axios.post(route("news.store"),n).then(s=>{u.value=s.data.message,b.visit(route("news.index"))}).catch(s=>{s.response.status===422&&(l.value=s.response.data.errors)})}return(s,e)=>(a(),B(D,{title:"Profile"},{header:g(()=>e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," News ",-1)])),default:g(()=>{var m,v,y;return[t("div",null,[t("div",S,[N(L,{news:d.news.data,base:"news"},null,8,["news"])])]),t("div",U,[u.value?(a(),o("span",F,i(u.value),1)):(a(),o("form",{key:1,class:"",onSubmit:C(r,["prevent"]),novalidate:""},[t("div",M,[e[4]||(e[4]=t("label",null,"Title",-1)),c(t("input",{type:"text",class:"rounded","onUpdate:modelValue":e[0]||(e[0]=p=>n.title=p)},null,512),[[f,n.title]]),(m=l.value)!=null&&m.title?(a(),o("span",W,i(l.value.title[0]),1)):x("",!0)]),t("div",j,[e[5]||(e[5]=t("label",null,"Description",-1)),c(t("input",{type:"text",class:"rounded","onUpdate:modelValue":e[1]||(e[1]=p=>n.description=p)},null,512),[[f,n.description]]),(v=l.value)!=null&&v.description?(a(),o("span",q,i(l.value.description[0]),1)):x("",!0)]),t("div",A,[e[6]||(e[6]=t("label",null,"Text",-1)),c(t("textarea",{class:"rounded","onUpdate:modelValue":e[2]||(e[2]=p=>n.text=p)},null,512),[[f,n.text]]),(y=l.value)!=null&&y.text?(a(),o("span",E,i(l.value.text[0]),1)):x("",!0)]),e[7]||(e[7]=t("button",{class:"bg-gray-500 text-white rounded px-3 py-2"}," Create ",-1))],32))])]}),_:1}))}};export{R as default};
